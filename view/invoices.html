{{define "content"}}
<div>
	<div class="container">
		<header class="header">
			<h1>Controle de Pagamentos</h1>
			<div class="summary-cards">
				<div class="summary-card pending">
					<span class="summary-number">12</span>
					<span class="summary-label">Pendentes</span>
				</div>
				<div class="summary-card paid">
					<span class="summary-number">8</span>
					<span class="summary-label">Pagos</span>
				</div>
				<div class="summary-card total">
					<span class="summary-number">R$ 24.750,00</span>
					<span class="summary-label">Total</span>
				</div>
			</div>
		</header>
		<div class="filters">
			<div class="filter-group">
				<label for="date-from">De:</label>
				<input type="date" id="date-from" name="date-from" value="2024-01-01"
										   hx-get="/load_table"
										   hx-target="#invoice-table-content"
										   hx-trigger="change"
										   hx-include="#date-from, #date-to, #categoria, #situacao">
			</div>
			<div class="filter-group">
				<label for="date-to">Até:</label>
				<input type="date" id="date-to" name="date-to" value="2024-12-31"
									       hx-get="/load_table"
									       hx-target="#invoice-table-content"
									       hx-trigger="change"
									       hx-include="#date-from, #date-to, #categoria, #situacao">
			</div>
			<div class="filter-group">
				<label for="categoria">Categoria:</label>
				<select id="categoria" name="categoria"
						       hx-get="/load_table"
						       hx-target="#invoice-table-content"
						       hx-trigger="change"
						       hx-include="#date-from, #date-to, #categoria, #situacao">
					<option value="">Todas</option>
					<option value="Fornecimento">Fornecimento</option>
					<option value="Serviço">Serviço</option>
					<option value="Operacional">Operacional</option>
					<option value="Tecnologia">Tecnologia</option>
					<option value="Financeiro">Financeiro</option>
					<option value="Vendas">Vendas</option>
					<option value="RH">RH</option>
				</select>
			</div>
			<div class="filter-group">
				<label for="situacao">Situação:</label>
				<select id="situacao" name="situacao"
						      hx-get="/load_table"
						      hx-target="#invoice-table-content"
						      hx-trigger="change"
						      hx-include="#date-from, #date-to, #categoria, #situacao">
					<option value="">Todas</option>
					<option value="Pendente">Pendente</option>
					<option value="Pago">Pago</option>
				</select>
			</div> <button class="clear-filters" 
				       hx-get="/load_table"
				       hx-target="#invoice-table-content"
				       hx-include="#date-from, #date-to, #categoria, #situacao"
				       onclick="document.querySelector('#date-from').value='2024-01-01'; 
				       document.querySelector('#date-to').value='2024-12-31'; 
				       document.querySelector('#categoria').value=''; 
				       document.querySelector('#situacao').value='';">
				Limpar Filtros
			</button>
		</div>

		<div class="table-container">
			<div id="invoice-table-content" 
			     hx-get="/load_table"
			     hx-trigger="load"
			     hx-include="#date-from, #date-to, #categoria, #situacao">
				<!-- Loading placeholder -->
				<div class="loading">
					<span>⏳ Carregando faturas...</span>
				</div>
			</div>
		</div>

	</div>
</div>
{{end}}
